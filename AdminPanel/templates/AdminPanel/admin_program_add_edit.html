{% extends 'AdminPanel/admin_base.html' %}

{% load static %}

{% load widget_tweaks %}

{% block head %}
    <script src="{% static 'AdminPanel/custom/admin_program_add_edit.js' %}"></script>
    <script>
        let alert_text;
        let url;
        {% if is_valid is False %}
            alert_text = 'اطلاعات، اشتباه وارد شده است.';
            alert_func(alert_text);
        {% endif %}
        {% if is_add %}
            {% if is_valid %}
                alert_text = 'برنامه با موفقیت اضافه شد.';
                url = "{% url 'AdminPanel:admin_panel_program' %}";
                redirect_to(url, alert_text);
            {% endif %}
        {% endif %}
        {% if is_edit %}
            {% if is_valid %}
                alert_text = "تغییرات مدنظر شما با موفقیت اعمال شد.";
                url = "{% url 'AdminPanel:admin_panel_program' %}";
                redirect_to(url, alert_text);
            {% endif %}
        {% endif %}
    </script>

    <style>
        hr.between {
            background-color: #ff6200;
            height: 1px;
        }

        hr.between_dotted {
            border-top: 2px dotted #ff6200;
        }
    </style>

    <!-- flatpickr -->
    <link rel="stylesheet" href="{% static 'AdminPanel/plugins/flatpickr/flatpickr.min.css' %}">
    <link rel="stylesheet" href="{% static 'AdminPanel/plugins/flatpickr/material_blue.css' %}">
{% endblock %}

{% block message %}
    {% if form.errors %}
        <blockquote class="quote-danger" style="direction: rtl">
            <h5 id="note">هشدار!</h5>
            <p>{{ form.errors }}</p>
        </blockquote>
    {% endif %}
{% endblock %}

{% block main_content %}
    <div class="col-md-6">
        <div class="card card-primary">
            <div class="card-header">
                {% if is_add %}
                    <h3 class="card-title">افزودن برنامه</h3>
                {% endif %}
                {% if is_edit %}
                    <h3 class="card-title">ویرایش برنامه</h3>
                {% endif %}
                <div class="card-tools">
                    <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
                        <i class="fas fa-minus"></i>
                    </button>
                </div>
            </div>
            <div class="card-body">
                <form method="post" enctype="multipart/form-data" id="form1">
                    {% csrf_token %}
                    {% if form.non_field_errors %}
                        <div style="color: #dc3545; direction: rtl">
                            <br> {{ form.non_field_errors }}
                        </div>
                    {% endif %}
                    <div class="form-group">
                        {% if form.status.errors %}
                            <div style="color: #dc3545; direction: rtl">
                                {{ form.status.errors }}
                            </div>
                        {% endif %}
                        <label for="{{ form.status.id_for_label }}">وضعیت :</label> <br>
                        {% render_field form.status class+="form-control" %}
                        {% if form.status.help_text %}
                            {{ form.status.help_text }} <br>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        {% if form.title.errors %}
                            <div style="color: #dc3545; direction: rtl">
                                {{ form.title.errors }}
                            </div>
                        {% endif %}
                        <label for="{{ form.title.id_for_label }}">عنوان :</label> <br>
                        {% if form.title.value != None %}
                            {% render_field form.title class+="form-control" value=form.title.value %}
                        {% elif program.title != None %}
                            {% render_field form.title class+="form-control" value=program.title %}
                        {% else %}
                            {% render_field form.title class+="form-control" %}
                        {% endif %}
                        {% if form.title.help_text %}
                            {{ form.title.help_text }} <br>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        {% if form.description.errors %}
                            <div style="color: #dc3545; direction: rtl">
                                {{ form.description.errors }}
                            </div>
                        {% endif %}
                        <label for="{{ form.description.id_for_label }}">توضیحات :</label> <br>
                        {% render_field form.description class+="form-control" rows="4" %}
                        {% if form.description.help_text %}
                            {{ form.description.help_text }} <br>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        {% if form.title_in_player.errors %}
                            <div style="color: #dc3545; direction: rtl">
                                {{ form.title_in_player.errors }}
                            </div>
                        {% endif %}
                        <label for="{{ form.title_in_player.id_for_label }}">عنوان در صفحه پخش زنده :</label> <br>
                        {% if form.title_in_player.value != None %}
                            {% render_field form.title_in_player class+="form-control" value=form.title_in_player.value %}
                        {% elif program.title_in_player != None %}
                            {% render_field form.title_in_player class+="form-control" value=program.title_in_player %}
                        {% else %}
                            {% render_field form.title_in_player class+="form-control" %}
                        {% endif %}
                        {% if form.title_in_player.help_text %}
                            {{ form.title_in_player.help_text }} <br>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        {% if form.description_in_player.errors %}
                            <div style="color: #dc3545; direction: rtl">
                                {{ form.description_in_player.errors }}
                            </div>
                        {% endif %}
                        <label for="{{ form.description_in_player.id_for_label }}">توضیحات در صفحه پخش زنده :</label>
                        <br>
                        {% render_field form.description_in_player class+="form-control" rows="4" %}
                        {% if form.description_in_player.help_text %}
                            {{ form.description_in_player.help_text }} <br>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        {% if form.slug.errors %}
                            <div style="color: #dc3545; direction: rtl">
                                {{ form.slug.errors }}
                            </div>
                        {% endif %}
                        <label for="{{ form.slug.id_for_label }}">Slug :</label> <br>
                        {% if form.slug.value != None %}
                            {% render_field form.slug class+="form-control" value=form.slug.value %}
                        {% elif program.slug != None %}
                            {% render_field form.slug class+="form-control" value=program.slug %}
                        {% else %}
                            {% render_field form.slug class+="form-control" %}
                        {% endif %}
                        {% if form.slug.help_text %}
                            {{ form.slug.help_text }} <br>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        {% if form.date_display.errors %}
                            <div style="color: #dc3545; direction: rtl">
                                {{ form.date_display.errors }}
                            </div>
                        {% endif %}
                        <label for="{{ form.date_display.id_for_label }}">تاریخ نمایش داده شده به کاربر :</label> <br>
                        {% if form.date_display.value != None %}
                            {% render_field form.date_display class+="form-control" value=form.date_display.value %}
                        {% elif program.date_display != None %}
                            {% render_field form.date_display class+="form-control" value=program.date_display %}
                        {% else %}
                            {% render_field form.date_display class+="form-control" %}
                        {% endif %}
                        {% if form.date_display.help_text %}
                            {{ form.date_display.help_text }} <br>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        {% if form.time_display.errors %}
                            <div style="color: #dc3545; direction: rtl">
                                {{ form.time_display.errors }}
                            </div>
                        {% endif %}
                        <label for="{{ form.time_display.id_for_label }}">زمان نمایش داده شده به کاربر :</label> <br>
                        {% if form.time_display.value != None %}
                            {% render_field form.time_display class+="form-control" value=form.time_display.value %}
                        {% elif program.time_display != None %}
                            {% render_field form.time_display class+="form-control" value=program.time_display %}
                        {% else %}
                            {% render_field form.time_display class+="form-control" %}
                        {% endif %}
                        {% if form.time_display.help_text %}
                            {{ form.time_display.help_text }} <br>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        {% if form.datetime_type.errors %}
                            <div style="color: #dc3545; direction: rtl">
                                {{ form.datetime_type.errors }}
                            </div>
                        {% endif %}
                        <label for="{{ form.datetime_type.id_for_label }}">نوع برگزاری برنامه :</label> <br>
                        {% render_field form.datetime_type onchange="show_hide_datetime_type()" class+="form-control" %}
                        <br>
                        {% if form.datetime_type.help_text %}
                            {{ form.datetime_type.help_text }} <br>
                        {% endif %}
                    </div>
                    <div id="div_id_weekly" style="display: none">
                        <hr class="between">
                        <div class="form-group">
                            {% if form.start_date.errors %}
                                <div style="color: #dc3545; direction: rtl">
                                    {{ form.start_date.errors }}
                                </div>
                            {% endif %}
                            <label for="{{ form.start_date.id_for_label }}">تاریخ شروع برنامه هفتگی :</label> <br>
                            <div class="input-group">
                                {% if form.start_date.value != None %}
                                    {% render_field form.start_date type="date" class+="form-control" value=form.start_date.value %}
                                {% elif program.start_date != None %}
                                    {% render_field form.start_date type="date" class+="form-control" value=program.start_date %}
                                {% else %}
                                    {% render_field form.start_date type="date" class+="form-control" %}
                                {% endif %}
                                <div class="input-group-append">
                                <span class="input-group-text btn btn-danger btn-sm"
                                      onclick="document.getElementById('id_start_date').value=''">
                                    <i class="fas fa-times"></i>
                                </span>
                                </div>
                            </div>
                            {% if form.start_date.help_text %}
                                {{ form.start_date.help_text }} <br>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            {% if form.end_date.errors %}
                                <div style="color: #dc3545; direction: rtl">
                                    {{ form.end_date.errors }}
                                </div>
                            {% endif %}
                            <label for="{{ form.end_date.id_for_label }}">تاریخ پایان برنامه هفتگی :</label> <br>
                            <div class="input-group">
                                {% if form.end_date.value != None %}
                                    {% render_field form.end_date type="date" class+="form-control" value=form.end_date.value %}
                                {% elif program.end_date != None %}
                                    {% render_field form.end_date type="date" class+="form-control" value=program.end_date %}
                                {% else %}
                                    {% render_field form.end_date type="date" class+="form-control" %}
                                {% endif %}
                                <div class="input-group-append">
                                <span class="input-group-text btn btn-danger btn-sm"
                                      onclick="document.getElementById('id_end_date').value=''">
                                    <i class="fas fa-times"></i>
                                </span>
                                </div>
                            </div>
                            {% if form.end_date.help_text %}
                                {{ form.end_date.help_text }} <br>
                            {% endif %}
                        </div>
                        <hr class="between_dotted">
                        <div class="form-group">
                            {% if form.day_0.errors %}
                                <div style="color: #dc3545; direction: rtl">
                                    {{ form.day_0.errors }}
                                </div>
                            {% endif %}
                            {% if form.day_1.errors %}
                                <div style="color: #dc3545; direction: rtl">
                                    {{ form.day_1.errors }}
                                </div>
                            {% endif %}
                            {% if form.day_2.errors %}
                                <div style="color: #dc3545; direction: rtl">
                                    {{ form.day_2.errors }}
                                </div>
                            {% endif %}
                            {% if form.day_3.errors %}
                                <div style="color: #dc3545; direction: rtl">
                                    {{ form.day_3.errors }}
                                </div>
                            {% endif %}
                            {% if form.day_4.errors %}
                                <div style="color: #dc3545; direction: rtl">
                                    {{ form.day_4.errors }}
                                </div>
                            {% endif %}
                            {% if form.day_5.errors %}
                                <div style="color: #dc3545; direction: rtl">
                                    {{ form.day_5.errors }}
                                </div>
                            {% endif %}
                            {% if form.day_6.errors %}
                                <div style="color: #dc3545; direction: rtl">
                                    {{ form.day_6.errors }}
                                </div>
                            {% endif %}
                            <table class="table table-bordered">
                                <thead>
                                <tr>
                                    <th style="width: 10px">#</th>
                                    <th>روز های هفته</th>
                                    <th style="width: 40px"></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>1.</td>
                                    <td>شنبه</td>
                                    <td>{% render_field form.day_0 class+="form-control" onclick="show_hide_week_day(0)" %}</td>
                                </tr>
                                <tr>
                                    <td>2.</td>
                                    <td>یکشنبه</td>
                                    <td>{% render_field form.day_1 class+="form-control" onclick="show_hide_week_day(1)" %}</td>
                                </tr>
                                <tr>
                                    <td>3.</td>
                                    <td>دوشنبه</td>
                                    <td>{% render_field form.day_2 class+="form-control" onclick="show_hide_week_day(2)" %}</td>
                                </tr>
                                <tr>
                                    <td>4.</td>
                                    <td>سه شنبه</td>
                                    <td>{% render_field form.day_3 class+="form-control" onclick="show_hide_week_day(3)" %}</td>
                                </tr>
                                <tr>
                                    <td>5.</td>
                                    <td>چهارشنبه</td>
                                    <td>{% render_field form.day_4 class+="form-control" onclick="show_hide_week_day(4)" %}</td>
                                </tr>
                                <tr>
                                    <td>6.</td>
                                    <td>پنج شنبه</td>
                                    <td>{% render_field form.day_5 class+="form-control" onclick="show_hide_week_day(5)" %}</td>
                                </tr>
                                <tr>
                                    <td>7.</td>
                                    <td>جمعه</td>
                                    <td>{% render_field form.day_6 class+="form-control" onclick="show_hide_week_day(6)" %}</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <hr id="hr_id_end_weekly_table" class="between_dotted" style="display: none">
                        <div id="div_id_day_0" style="display: none">
                            <div class="form-group">
                                {% if form.start_time_day_0.errors %}
                                    <div style="color: #dc3545; direction: rtl">
                                        {{ form.start_time_day_0.errors }}
                                    </div>
                                {% endif %}
                                <label for="{{ form.start_time_day_0.id_for_label }}">ساعت شروع برنامه (شنبه ها)
                                    :</label>
                                <br>
                                <div class="input-group">
                                    {% if form.start_time_day_0.value != None %}
                                        {% render_field form.start_time_day_0 type="time" class+="form-control" value=form.start_time_day_0.value %}
                                    {% elif program.start_time_day_0 != None %}
                                        {% render_field form.start_time_day_0 type="time" class+="form-control" value=program.start_time_day_0 %}
                                    {% else %}
                                        {% render_field form.start_time_day_0 type="time" class+="form-control" %}
                                    {% endif %}
                                    <div class="input-group-append">
                                <span class="input-group-text btn btn-danger btn-sm"
                                      onclick="document.getElementById('id_start_time_day_0').value=''">
                                    <i class="fas fa-times"></i>
                                </span>
                                    </div>
                                </div>
                                {% if form.start_time_day_0.help_text %}
                                    {{ form.start_time_day_0.help_text }} <br>
                                {% endif %}
                            </div>
                            <div class="form-group">
                                {% if form.end_time_day_0.errors %}
                                    <div style="color: #dc3545; direction: rtl">
                                        {{ form.end_time_day_0.errors }}
                                    </div>
                                {% endif %}
                                <label for="{{ form.end_time_day_0.id_for_label }}">ساعت پایان برنامه (شنبه ها)
                                    :</label>
                                <br>
                                <div class="input-group">
                                    {% if form.end_time_day_0.value != None %}
                                        {% render_field form.end_time_day_0 type="time" class+="form-control" value=form.end_time_day_0.value %}
                                    {% elif program.end_time_day_0 != None %}
                                        {% render_field form.end_time_day_0 type="time" class+="form-control" value=program.end_time_day_0 %}
                                    {% else %}
                                        {% render_field form.end_time_day_0 type="time" class+="form-control" %}
                                    {% endif %}
                                    <div class="input-group-append">
                                <span class="input-group-text btn btn-danger btn-sm"
                                      onclick="document.getElementById('id_end_time_day_0').value=''">
                                    <i class="fas fa-times"></i>
                                </span>
                                    </div>
                                </div>
                                {% if form.end_time_day_0.help_text %}
                                    {{ form.end_time_day_0.help_text }} <br>
                                {% endif %}
                            </div>
                            <hr class="between_dotted">
                        </div>
                        <div id="div_id_day_1" style="display: none">
                            <div class="form-group">
                                {% if form.start_time_day_1.errors %}
                                    <div style="color: #dc3545; direction: rtl">
                                        {{ form.start_time_day_1.errors }}
                                    </div>
                                {% endif %}
                                <label for="{{ form.start_time_day_1.id_for_label }}">ساعت شروع برنامه (یکشنبه ها)
                                    :</label>
                                <br>
                                <div class="input-group">
                                    {% if form.start_time_day_1.value != None %}
                                        {% render_field form.start_time_day_1 type="time" class+="form-control" value=form.start_time_day_1.value %}
                                    {% elif program.start_time_day_1 != None %}
                                        {% render_field form.start_time_day_1 type="time" class+="form-control" value=program.start_time_day_1 %}
                                    {% else %}
                                        {% render_field form.start_time_day_1 type="time" class+="form-control" %}
                                    {% endif %}
                                    <div class="input-group-append">
                                <span class="input-group-text btn btn-danger btn-sm"
                                      onclick="document.getElementById('id_start_time_day_1').value=''">
                                    <i class="fas fa-times"></i>
                                </span>
                                    </div>
                                </div>
                                {% if form.start_time_day_1.help_text %}
                                    {{ form.start_time_day_1.help_text }} <br>
                                {% endif %}
                            </div>
                            <div class="form-group">
                                {% if form.end_time_day_1.errors %}
                                    <div style="color: #dc3545; direction: rtl">
                                        {{ form.end_time_day_1.errors }}
                                    </div>
                                {% endif %}
                                <label for="{{ form.end_time_day_1.id_for_label }}">ساعت پایان برنامه (یکشنبه ها)
                                    :</label>
                                <br>
                                <div class="input-group">
                                    {% if form.end_time_day_1.value != None %}
                                        {% render_field form.end_time_day_1 type="time" class+="form-control" value=form.end_time_day_1.value %}
                                    {% elif program.end_time_day_1 != None %}
                                        {% render_field form.end_time_day_1 type="time" class+="form-control" value=program.end_time_day_1 %}
                                    {% else %}
                                        {% render_field form.end_time_day_1 type="time" class+="form-control" %}
                                    {% endif %}
                                    <div class="input-group-append">
                                <span class="input-group-text btn btn-danger btn-sm"
                                      onclick="document.getElementById('id_end_time_day_1').value=''">
                                    <i class="fas fa-times"></i>
                                </span>
                                    </div>
                                </div>
                                {% if form.end_time_day_1.help_text %}
                                    {{ form.end_time_day_1.help_text }} <br>
                                {% endif %}
                            </div>
                            <hr class="between_dotted">
                        </div>
                        <div id="div_id_day_2" style="display: none">
                            <div class="form-group">
                                {% if form.start_time_day_2.errors %}
                                    <div style="color: #dc3545; direction: rtl">
                                        {{ form.start_time_day_2.errors }}
                                    </div>
                                {% endif %}
                                <label for="{{ form.start_time_day_2.id_for_label }}">ساعت شروع برنامه (دوشنبه ها)
                                    :</label>
                                <br>
                                <div class="input-group">
                                    {% if form.start_time_day_2.value != None %}
                                        {% render_field form.start_time_day_2 type="time" class+="form-control" value=form.start_time_day_2.value %}
                                    {% elif program.start_time_day_2 != None %}
                                        {% render_field form.start_time_day_2 type="time" class+="form-control" value=program.start_time_day_2 %}
                                    {% else %}
                                        {% render_field form.start_time_day_2 type="time" class+="form-control" %}
                                    {% endif %}
                                    <div class="input-group-append">
                                <span class="input-group-text btn btn-danger btn-sm"
                                      onclick="document.getElementById('id_start_time_day_2').value=''">
                                    <i class="fas fa-times"></i>
                                </span>
                                    </div>
                                </div>
                                {% if form.start_time_day_2.help_text %}
                                    {{ form.start_time_day_2.help_text }} <br>
                                {% endif %}
                            </div>
                            <div class="form-group">
                                {% if form.end_time_day_2.errors %}
                                    <div style="color: #dc3545; direction: rtl">
                                        {{ form.end_time_day_2.errors }}
                                    </div>
                                {% endif %}
                                <label for="{{ form.end_time_day_2.id_for_label }}">ساعت پایان برنامه (دوشنبه ها)
                                    :</label>
                                <br>
                                <div class="input-group">
                                    {% if form.end_time_day_2.value != None %}
                                        {% render_field form.end_time_day_2 type="time" class+="form-control" value=form.end_time_day_2.value %}
                                    {% elif program.end_time_day_2 != None %}
                                        {% render_field form.end_time_day_2 type="time" class+="form-control" value=program.end_time_day_2 %}
                                    {% else %}
                                        {% render_field form.end_time_day_2 type="time" class+="form-control" %}
                                    {% endif %}
                                    <div class="input-group-append">
                                <span class="input-group-text btn btn-danger btn-sm"
                                      onclick="document.getElementById('id_end_time_day_2').value=''">
                                    <i class="fas fa-times"></i>
                                </span>
                                    </div>
                                </div>
                                {% if form.end_time_day_2.help_text %}
                                    {{ form.end_time_day_2.help_text }} <br>
                                {% endif %}
                            </div>
                            <hr class="between_dotted">
                        </div>
                        <div id="div_id_day_3" style="display: none">
                            <div class="form-group">
                                {% if form.start_time_day_3.errors %}
                                    <div style="color: #dc3545; direction: rtl">
                                        {{ form.start_time_day_3.errors }}
                                    </div>
                                {% endif %}
                                <label for="{{ form.start_time_day_3.id_for_label }}">ساعت شروع برنامه (سه شنبه ها)
                                    :</label>
                                <br>
                                <div class="input-group">
                                    {% if form.start_time_day_3.value != None %}
                                        {% render_field form.start_time_day_3 type="time" class+="form-control" value=form.start_time_day_3.value %}
                                    {% elif program.start_time_day_3 != None %}
                                        {% render_field form.start_time_day_3 type="time" class+="form-control" value=program.start_time_day_3 %}
                                    {% else %}
                                        {% render_field form.start_time_day_3 type="time" class+="form-control" %}
                                    {% endif %}
                                    <div class="input-group-append">
                                <span class="input-group-text btn btn-danger btn-sm"
                                      onclick="document.getElementById('id_start_time_day_3').value=''">
                                    <i class="fas fa-times"></i>
                                </span>
                                    </div>
                                </div>
                                {% if form.start_time_day_3.help_text %}
                                    {{ form.start_time_day_3.help_text }} <br>
                                {% endif %}
                            </div>
                            <div class="form-group">
                                {% if form.end_time_day_3.errors %}
                                    <div style="color: #dc3545; direction: rtl">
                                        {{ form.end_time_day_3.errors }}
                                    </div>
                                {% endif %}
                                <label for="{{ form.end_time_day_3.id_for_label }}">ساعت پایان برنامه (سه شنبه ها)
                                    :</label>
                                <br>
                                <div class="input-group">
                                    {% if form.end_time_day_3.value != None %}
                                        {% render_field form.end_time_day_3 type="time" class+="form-control" value=form.end_time_day_3.value %}
                                    {% elif program.end_time_day_3 != None %}
                                        {% render_field form.end_time_day_3 type="time" class+="form-control" value=program.end_time_day_3 %}
                                    {% else %}
                                        {% render_field form.end_time_day_3 type="time" class+="form-control" %}
                                    {% endif %}
                                    <div class="input-group-append">
                                <span class="input-group-text btn btn-danger btn-sm"
                                      onclick="document.getElementById('id_end_time_day_3').value=''">
                                    <i class="fas fa-times"></i>
                                </span>
                                    </div>
                                </div>
                                {% if form.end_time_day_3.help_text %}
                                    {{ form.end_time_day_3.help_text }} <br>
                                {% endif %}
                            </div>
                            <hr class="between_dotted">
                        </div>

                        <div id="div_id_day_4" style="display: none">
                            <div class="form-group">
                                {% if form.start_time_day_4.errors %}
                                    <div style="color: #dc3545; direction: rtl">
                                        {{ form.start_time_day_4.errors }}
                                    </div>
                                {% endif %}
                                <label for="{{ form.start_time_day_4.id_for_label }}">ساعت شروع برنامه (چهارشنبه ها)
                                    :</label>
                                <br>
                                <div class="input-group">
                                    {% if form.start_time_day_4.value != None %}
                                        {% render_field form.start_time_day_4 type="time" class+="form-control" value=form.start_time_day_4.value %}
                                    {% elif program.start_time_day_4 != None %}
                                        {% render_field form.start_time_day_4 type="time" class+="form-control" value=program.start_time_day_4 %}
                                    {% else %}
                                        {% render_field form.start_time_day_4 type="time" class+="form-control" %}
                                    {% endif %}
                                    <div class="input-group-append">
                                <span class="input-group-text btn btn-danger btn-sm"
                                      onclick="document.getElementById('id_start_time_day_4').value=''">
                                    <i class="fas fa-times"></i>
                                </span>
                                    </div>
                                </div>
                                {% if form.start_time_day_4.help_text %}
                                    {{ form.start_time_day_4.help_text }} <br>
                                {% endif %}
                            </div>
                            <div class="form-group">
                                {% if form.end_time_day_4.errors %}
                                    <div style="color: #dc3545; direction: rtl">
                                        {{ form.end_time_day_4.errors }}
                                    </div>
                                {% endif %}
                                <label for="{{ form.end_time_day_4.id_for_label }}">ساعت پایان برنامه (چهارشنبه ها)
                                    :</label>
                                <br>
                                <div class="input-group">
                                    {% if form.end_time_day_4.value != None %}
                                        {% render_field form.end_time_day_4 type="time" class+="form-control" value=form.end_time_day_4.value %}
                                    {% elif program.end_time_day_4 != None %}
                                        {% render_field form.end_time_day_4 type="time" class+="form-control" value=program.end_time_day_4 %}
                                    {% else %}
                                        {% render_field form.end_time_day_4 type="time" class+="form-control" %}
                                    {% endif %}
                                    <div class="input-group-append">
                                <span class="input-group-text btn btn-danger btn-sm"
                                      onclick="document.getElementById('id_end_time_day_4').value=''">
                                    <i class="fas fa-times"></i>
                                </span>
                                    </div>
                                </div>
                                {% if form.end_time_day_4.help_text %}
                                    {{ form.end_time_day_4.help_text }} <br>
                                {% endif %}
                            </div>
                            <hr class="between_dotted">
                        </div>
                        <div id="div_id_day_5" style="display: none">
                            <div class="form-group">
                                {% if form.start_time_day_5.errors %}
                                    <div style="color: #dc3545; direction: rtl">
                                        {{ form.start_time_day_5.errors }}
                                    </div>
                                {% endif %}
                                <label for="{{ form.start_time_day_5.id_for_label }}">ساعت شروع برنامه (پنجشنبه ها)
                                    :</label>
                                <br>
                                <div class="input-group">
                                    {% if form.start_time_day_5.value != None %}
                                        {% render_field form.start_time_day_5 type="time" class+="form-control" value=form.start_time_day_5.value %}
                                    {% elif program.start_time_day_5 != None %}
                                        {% render_field form.start_time_day_5 type="time" class+="form-control" value=program.start_time_day_5 %}
                                    {% else %}
                                        {% render_field form.start_time_day_5 type="time" class+="form-control" %}
                                    {% endif %}
                                    <div class="input-group-append">
                                <span class="input-group-text btn btn-danger btn-sm"
                                      onclick="document.getElementById('id_start_time_day_5').value=''">
                                    <i class="fas fa-times"></i>
                                </span>
                                    </div>
                                </div>
                                {% if form.start_time_day_5.help_text %}
                                    {{ form.start_time_day_5.help_text }} <br>
                                {% endif %}
                            </div>
                            <div class="form-group">
                                {% if form.end_time_day_5.errors %}
                                    <div style="color: #dc3545; direction: rtl">
                                        {{ form.end_time_day_5.errors }}
                                    </div>
                                {% endif %}
                                <label for="{{ form.end_time_day_5.id_for_label }}">ساعت پایان برنامه (پنجشنبه ها)
                                    :</label>
                                <br>
                                <div class="input-group">
                                    {% if form.end_time_day_5.value != None %}
                                        {% render_field form.end_time_day_5 type="time" class+="form-control" value=form.end_time_day_5.value %}
                                    {% elif program.end_time_day_5 != None %}
                                        {% render_field form.end_time_day_5 type="time" class+="form-control" value=program.end_time_day_5 %}
                                    {% else %}
                                        {% render_field form.end_time_day_5 type="time" class+="form-control" %}
                                    {% endif %}
                                    <div class="input-group-append">
                                <span class="input-group-text btn btn-danger btn-sm"
                                      onclick="document.getElementById('id_end_time_day_5').value=''">
                                    <i class="fas fa-times"></i>
                                </span>
                                    </div>
                                </div>
                                {% if form.end_time_day_5.help_text %}
                                    {{ form.end_time_day_5.help_text }} <br>
                                {% endif %}
                            </div>
                            <hr class="between_dotted">
                        </div>
                        <div id="div_id_day_6" style="display: none">
                            <div class="form-group">
                                {% if form.start_time_day_6.errors %}
                                    <div style="color: #dc3545; direction: rtl">
                                        {{ form.start_time_day_6.errors }}
                                    </div>
                                {% endif %}
                                <label for="{{ form.start_time_day_6.id_for_label }}">ساعت شروع برنامه (جمعه ها)
                                    :</label>
                                <br>
                                <div class="input-group">
                                    {% if form.start_time_day_6.value != None %}
                                        {% render_field form.start_time_day_6 type="time" class+="form-control" value=form.start_time_day_6.value %}
                                    {% elif program.start_time_day_6 != None %}
                                        {% render_field form.start_time_day_6 type="time" class+="form-control" value=program.start_time_day_6 %}
                                    {% else %}
                                        {% render_field form.start_time_day_6 type="time" class+="form-control" %}
                                    {% endif %}
                                    <div class="input-group-append">
                                <span class="input-group-text btn btn-danger btn-sm"
                                      onclick="document.getElementById('id_start_time_day_6').value=''">
                                    <i class="fas fa-times"></i>
                                </span>
                                    </div>
                                </div>
                                {% if form.start_time_day_6.help_text %}
                                    {{ form.start_time_day_6.help_text }} <br>
                                {% endif %}
                            </div>
                            <div class="form-group">
                                {% if form.end_time_day_6.errors %}
                                    <div style="color: #dc3545; direction: rtl">
                                        {{ form.end_time_day_6.errors }}
                                    </div>
                                {% endif %}
                                <label for="{{ form.end_time_day_6.id_for_label }}">ساعت پایان برنامه (جمعه ها)
                                    :</label>
                                <br>
                                <div class="input-group">
                                    {% if form.end_time_day_6.value != None %}
                                        {% render_field form.end_time_day_6 type="time" class+="form-control" value=form.end_time_day_6.value %}
                                    {% elif program.end_time_day_6 != None %}
                                        {% render_field form.end_time_day_6 type="time" class+="form-control" value=program.end_time_day_6 %}
                                    {% else %}
                                        {% render_field form.end_time_day_6 type="time" class+="form-control" %}
                                    {% endif %}
                                    <div class="input-group-append">
                                    <span class="input-group-text btn btn-danger btn-sm"
                                          onclick="document.getElementById('id_end_time_day_6').value=''">
                                        <i class="fas fa-times"></i>
                                    </span>
                                    </div>
                                </div>
                                {% if form.end_time_day_6.help_text %}
                                    {{ form.end_time_day_6.help_text }} <br>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <hr id="hr_id_between_weekly_specified_date" class="between" style="display: none">
                    <div id="div_id_occasional" style="display: none">
                        <hr class="between">
                        <div class="form-group">
                            <input type="hidden" id="id_list_specified_date" name="list_specified_date"
                                   value="specified_date0">
                            <input type="hidden" id="id_list_specified_date_removed" name="list_specified_date_removed"
                                   value="">
                            {% if form.specified_date.errors %}
                                <div style="color: #dc3545; direction: rtl">
                                    {{ form.specified_date.errors }}
                                </div>
                            {% endif %}
                            <label for="{{ form.specified_date.id_for_label }}">تاریخ برنامه مناسبتی :</label>
                            <div id="div_id_specified_date_add">
                                {% if is_add == True %}
                                    {% if is_valid == False %}
                                        {% if form.datetime_type.value == 'weekly' %}
                                            <div id="div_id_specified_date0" class="input-group"
                                                 style="margin-top: 5px">
                                                <input type="date" placeholder="تاریخ 1" id="specified_date0"
                                                       name="specified_date0" class="form-control">
                                                <div id="div_div_id_specified_date0" class="input-group-append">
                                            <span class="input-group-text btn btn-danger btn-sm"
                                                  onclick="remove_occasional('0')">
                                                <i class="fas fa-times"></i>
                                            </span>
                                                </div>
                                            </div>
                                        {% endif %}
                                    {% else %}
                                        <div id="div_id_specified_date0" class="input-group" style="margin-top: 5px">
                                            <input type="date" placeholder="تاریخ 1" id="specified_date0"
                                                   name="specified_date0" class="form-control">
                                            <div id="div_div_id_specified_date0" class="input-group-append">
                                            <span class="input-group-text btn btn-danger btn-sm"
                                                  onclick="remove_occasional('0')">
                                                <i class="fas fa-times"></i>
                                            </span>
                                            </div>
                                        </div>
                                    {% endif %}
                                {% else %}
                                    {% if is_valid == False %}
                                        {% if form.datetime_type.value != None %}
                                            {% if form.datetime_type.value == 'weekly' %}
                                                <div id="div_id_specified_date0" class="input-group"
                                                     style="margin-top: 5px">
                                                    <input type="date" placeholder="تاریخ 1" id="specified_date0"
                                                           name="specified_date0" class="form-control">
                                                    <div id="div_div_id_specified_date0" class="input-group-append">
                                            <span class="input-group-text btn btn-danger btn-sm"
                                                  onclick="remove_occasional('0')">
                                                <i class="fas fa-times"></i>
                                            </span>
                                                    </div>
                                                </div>
                                            {% endif %}
                                        {% else %}
                                            {% if program.datetime_type == 'weekly' %}
                                                <div id="div_id_specified_date0" class="input-group"
                                                     style="margin-top: 5px">
                                                    <input type="date" placeholder="تاریخ 1" id="specified_date0"
                                                           name="specified_date0" class="form-control">
                                                    <div id="div_div_id_specified_date0" class="input-group-append">
                                            <span class="input-group-text btn btn-danger btn-sm"
                                                  onclick="remove_occasional('0')">
                                                <i class="fas fa-times"></i>
                                            </span>
                                                    </div>
                                                </div>
                                            {% endif %}
                                        {% endif %}
                                    {% else %}
                                        {% if program.datetime_type == 'weekly' %}
                                            <div id="div_id_specified_date0" class="input-group"
                                                 style="margin-top: 5px">
                                                <input type="date" placeholder="تاریخ 1" id="specified_date0"
                                                       name="specified_date0" class="form-control">
                                                <div id="div_div_id_specified_date0" class="input-group-append">
                                            <span class="input-group-text btn btn-danger btn-sm"
                                                  onclick="remove_occasional('0')">
                                                <i class="fas fa-times"></i>
                                            </span>
                                                </div>
                                            </div>
                                        {% endif %}
                                    {% endif %}
                                {% endif %}
                            </div>
                            {% if form.specified_date.help_text %}
                                {{ form.specified_date.help_text }} <br>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            <input type="hidden" id="id_list_specified_start_time"
                                   name="list_specified_start_time" value="specified_start_time0">
                            <input type="hidden" id="id_list_specified_start_time_removed"
                                   name="list_specified_start_time_removed" value="">
                            {% if form.specified_start_time.errors %}
                                <div style="color: #dc3545; direction: rtl">
                                    {{ form.specified_start_time.errors }}
                                </div>
                            {% endif %}
                            <label for="{{ form.specified_start_time.id_for_label }}">ساعت شروع برنامه مناسبتی :</label>
                            <div id="div_id_specified_start_time_add">
                                {% if is_add == True %}
                                    {% if is_valid == False %}
                                        {% if form.datetime_type.value == 'weekly' %}
                                            <div id="div_id_specified_start_time0" class="input-group"
                                                 style="margin-top: 5px">
                                                <input type="time" placeholder="ساعت شروع 1" id="specified_start_time0"
                                                       name="specified_start_time0" class="form-control">
                                                <div class="input-group-append">
                                            <span class="input-group-text btn btn-danger btn-sm"
                                                  onclick="remove_occasional('0')">
                                                <i class="fas fa-times"></i>
                                            </span>
                                                </div>
                                            </div>
                                        {% endif %}
                                    {% else %}
                                        <div id="div_id_specified_start_time0" class="input-group"
                                             style="margin-top: 5px">
                                            <input type="time" placeholder="ساعت شروع 1" id="specified_start_time0"
                                                   name="specified_start_time0" class="form-control">
                                            <div class="input-group-append">
                                            <span class="input-group-text btn btn-danger btn-sm"
                                                  onclick="remove_occasional('0')">
                                                <i class="fas fa-times"></i>
                                            </span>
                                            </div>
                                        </div>
                                    {% endif %}
                                {% else %}
                                    {% if is_valid == False %}
                                        {% if form.datetime_type.value != None %}
                                            {% if form.datetime_type.value == 'weekly' %}
                                                <div id="div_id_specified_start_time0" class="input-group"
                                                     style="margin-top: 5px">
                                                    <input type="time" placeholder="ساعت شروع 1"
                                                           id="specified_start_time0"
                                                           name="specified_start_time0" class="form-control">
                                                    <div class="input-group-append">
                                            <span class="input-group-text btn btn-danger btn-sm"
                                                  onclick="remove_occasional('0')">
                                                <i class="fas fa-times"></i>
                                            </span>
                                                    </div>
                                                </div>
                                            {% endif %}
                                        {% else %}
                                            {% if program.datetime_type == 'weekly' %}
                                                <div id="div_id_specified_start_time0" class="input-group"
                                                     style="margin-top: 5px">
                                                    <input type="time" placeholder="ساعت شروع 1"
                                                           id="specified_start_time0"
                                                           name="specified_start_time0" class="form-control">
                                                    <div class="input-group-append">
                                            <span class="input-group-text btn btn-danger btn-sm"
                                                  onclick="remove_occasional('0')">
                                                <i class="fas fa-times"></i>
                                            </span>
                                                    </div>
                                                </div>
                                            {% endif %}
                                        {% endif %}
                                    {% else %}
                                        {% if program.datetime_type == 'weekly' %}
                                            <div id="div_id_specified_start_time0" class="input-group"
                                                 style="margin-top: 5px">
                                                <input type="time" placeholder="ساعت شروع 1" id="specified_start_time0"
                                                       name="specified_start_time0" class="form-control">
                                                <div class="input-group-append">
                                            <span class="input-group-text btn btn-danger btn-sm"
                                                  onclick="remove_occasional('0')">
                                                <i class="fas fa-times"></i>
                                            </span>
                                                </div>
                                            </div>
                                        {% endif %}
                                    {% endif %}
                                {% endif %}
                            </div>
                            {% if form.specified_start_time.help_text %}
                                {{ form.specified_start_time.help_text }} <br>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            <input type="hidden" id="id_list_specified_end_time" name="list_specified_end_time"
                                   value="specified_end_time0">
                            <input type="hidden" id="id_list_specified_end_time_removed"
                                   name="list_specified_end_time_removed" value="">
                            {% if form.specified_end_time.errors %}
                                <div style="color: #dc3545; direction: rtl">
                                    {{ form.specified_end_time.errors }}
                                </div>
                            {% endif %}
                            <label for="{{ form.specified_end_time.id_for_label }}">ساعت پایان برنامه مناسبتی :</label>
                            <div id="div_id_specified_end_time_add">
                                {% if is_add == True %}
                                    {% if is_valid == False %}
                                        {% if form.datetime_type.value == 'weekly' %}
                                            <div id="div_id_specified_end_time0" class="input-group"
                                                 style="margin-top: 5px">
                                                <input type="time" placeholder="ساعت پایان 1" id="specified_end_time0"
                                                       name="specified_end_time0" class="form-control">
                                                <div class="input-group-append">
                                            <span class="input-group-text btn btn-danger btn-sm"
                                                  onclick="remove_occasional('0')">
                                                <i class="fas fa-times"></i>
                                            </span>
                                                </div>
                                            </div>
                                        {% endif %}
                                    {% else %}
                                        <div id="div_id_specified_end_time0" class="input-group"
                                             style="margin-top: 5px">
                                            <input type="time" placeholder="ساعت پایان 1" id="specified_end_time0"
                                                   name="specified_end_time0" class="form-control">
                                            <div class="input-group-append">
                                            <span class="input-group-text btn btn-danger btn-sm"
                                                  onclick="remove_occasional('0')">
                                                <i class="fas fa-times"></i>
                                            </span>
                                            </div>
                                        </div>
                                    {% endif %}
                                {% else %}
                                    {% if is_valid == False %}
                                        {% if form.datetime_type.value != None %}
                                            {% if form.datetime_type.value == 'weekly' %}
                                                <div id="div_id_specified_end_time0" class="input-group"
                                                     style="margin-top: 5px">
                                                    <input type="time" placeholder="ساعت پایان 1"
                                                           id="specified_end_time0"
                                                           name="specified_end_time0" class="form-control">
                                                    <div class="input-group-append">
                                            <span class="input-group-text btn btn-danger btn-sm"
                                                  onclick="remove_occasional('0')">
                                                <i class="fas fa-times"></i>
                                            </span>
                                                    </div>
                                                </div>
                                            {% endif %}
                                        {% else %}
                                            {% if program.datetime_type == 'weekly' %}
                                                <div id="div_id_specified_end_time0" class="input-group"
                                                     style="margin-top: 5px">
                                                    <input type="time" placeholder="ساعت پایان 1"
                                                           id="specified_end_time0"
                                                           name="specified_end_time0" class="form-control">
                                                    <div class="input-group-append">
                                            <span class="input-group-text btn btn-danger btn-sm"
                                                  onclick="remove_occasional('0')">
                                                <i class="fas fa-times"></i>
                                            </span>
                                                    </div>
                                                </div>
                                            {% endif %}
                                        {% endif %}
                                    {% else %}
                                        {% if program.datetime_type == 'weekly' %}
                                            <div id="div_id_specified_end_time0" class="input-group"
                                                 style="margin-top: 5px">
                                                <input type="time" placeholder="ساعت پایان 1" id="specified_end_time0"
                                                       name="specified_end_time0" class="form-control">
                                                <div class="input-group-append">
                                            <span class="input-group-text btn btn-danger btn-sm"
                                                  onclick="remove_occasional('0')">
                                                <i class="fas fa-times"></i>
                                            </span>
                                                </div>
                                            </div>
                                        {% endif %}
                                    {% endif %}
                                {% endif %}
                            </div>
                            {% if form.specified_end_time.help_text %}
                                {{ form.specified_end_time.help_text }} <br>
                            {% endif %}
                        </div>
                        <span class="btn btn-primary btn-sm" onclick="add_occasional()"><i class="fa fa-plus"
                                                                                           aria-hidden="true"></i>افزودن</span>
                        <hr class="between">
                    </div>
                    <div class="form-group">
                        {% if form.logo.errors %}
                            <div style="color: #dc3545; direction: rtl">
                                {{ form.logo.errors }}
                            </div>
                        {% endif %}
                        <label for="{{ form.logo.id_for_label }}">لوگو :</label> <br>
                        {% if program.logo != None %}
                            <a href="{{ program.logo.url }}" target="_blank">لوگو فعلی</a>
                        {% endif %}
                        <div class="input-group">
                            <div class="custom-file">
                                {% render_field form.logo class+="custom-file-input" %}
                                <label class="custom-file-label" for="{{ form.logo.id_for_label }}">لوگو انتخاب
                                    نشده</label>
                            </div>
                        </div>
                        {% if form.logo.help_text %}
                            {{ form.logo.help_text }} <br>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        {% if form.logo_link.errors %}
                            <div style="color: #dc3545; direction: rtl">
                                {{ form.logo_link.errors }}
                            </div>
                        {% endif %}
                        <label for="{{ form.logo_link.id_for_label }}">لینک لوگو :</label> <br>
                        {% if form.logo_link.value != None %}
                            {% render_field form.logo_link class+="form-control" value=form.logo_link.value %}
                        {% elif program.logo_link != None %}
                            {% render_field form.logo_link class+="form-control" value=program.logo_link %}
                        {% else %}
                            {% render_field form.logo_link class+="form-control" %}
                        {% endif %}
                        {% if form.logo_link.help_text %}
                            {{ form.logo_link.help_text }} <br>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        {% if form.player_background.errors %}
                            <div style="color: #dc3545; direction: rtl">
                                {{ form.player_background.errors }}
                            </div>
                        {% endif %}
                        <label for="{{ form.player_background.id_for_label }}">تصویر پس زمینه پخش زنده :</label> <br>
                        {% if program.player_background != None %}
                            <a href="{{ program.player_background.url }}" target="_blank">تصویر پس زمینه پخش زنده
                                فعلی</a>
                        {% endif %}
                        <div class="input-group">
                            <div class="custom-file">
                                {% render_field form.player_background class+="custom-file-input" %}
                                <label class="custom-file-label" for="{{ form.player_background.id_for_label }}">تصویر
                                    پس زمینه ای برای پخش زنده انتخاب نشده</label>
                            </div>
                        </div>
                        {% if form.player_background.help_text %}
                            {{ form.player_background.help_text }} <br>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        {% if form.stream_type.errors %}
                            <div style="color: #dc3545; direction: rtl">
                                {{ form.stream_type.errors }}
                            </div>
                        {% endif %}
                        <label for="{{ form.stream_type.id_for_label }}">نوع پخش زنده :</label> <br>
                        {% render_field form.stream_type onchange="show_hide_stream_type()" class+="form-control" %}
                        <br>
                        {% if form.stream_type.help_text %}
                            {{ form.stream_type.help_text }} <br>
                        {% endif %}
                    </div>
                    <div id="div_id_audio" style="display: none">
                        <hr class="between">
                        <div class="form-group">
                            {% if form.audio_link.errors %}
                                <div style="color: #dc3545; direction: rtl">
                                    {{ form.audio_link.errors }}
                                </div>
                            {% endif %}
                            <label for="{{ form.audio_link.id_for_label }}">لینک پخش زنده صوتی :</label> <br>
                            {% if form.audio_link.value != None %}
                                {% render_field form.audio_link class+="form-control" value=form.audio_link.value %}
                            {% elif program.audio_link != None %}
                                {% render_field form.audio_link class+="form-control" value=program.audio_link %}
                            {% else %}
                                {% render_field form.audio_link class+="form-control" %}
                            {% endif %}
                            {% if form.audio_link.help_text %}
                                {{ form.audio_link.help_text }} <br>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            {% if form.audio_stats_link.errors %}
                                <div style="color: #dc3545; direction: rtl">
                                    {{ form.audio_stats_link.errors }}
                                </div>
                            {% endif %}
                            <label for="{{ form.audio_stats_link.id_for_label }}">لینک آمار پخش زنده صوتی :</label> <br>
                            {% if form.audio_stats_link.value != None %}
                                {% render_field form.audio_stats_link class+="form-control" value=form.audio_stats_link.value %}
                            {% elif program.audio_stats_link != None %}
                                {% render_field form.audio_stats_link class+="form-control" value=program.audio_stats_link %}
                            {% else %}
                                {% render_field form.audio_stats_link class+="form-control" %}
                            {% endif %}
                            {% if form.audio_stats_link.help_text %}
                                {{ form.audio_stats_link.help_text }} <br>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            {% if form.audio_platform_type.errors %}
                                <div style="color: #dc3545; direction: rtl">
                                    {{ form.audio_platform_type.errors }}
                                </div>
                            {% endif %}
                            <label for="{{ form.audio_platform_type.id_for_label }}">نوع پلتفرم آمار پخش زنده صوتی
                                :</label>
                            <br>
                            {% render_field form.audio_platform_type class+="form-control" %}
                            {% if form.audio_platform_type.help_text %}
                                {{ form.audio_platform_type.help_text }} <br>
                            {% endif %}
                        </div>
                    </div>
                    <div id="div_id_video" style="display: none">
                        <hr class="between">
                        <div class="form-group">
                            {% if form.video_link.errors %}
                                <div style="color: #dc3545; direction: rtl">
                                    {{ form.video_link.errors }}
                                </div>
                            {% endif %}
                            <label for="{{ form.video_link.id_for_label }}">لینک پخش زنده تصویری :</label> <br>
                            {% if form.video_link.value != None %}
                                {% render_field form.video_link class+="form-control" value=form.video_link.value %}
                            {% elif program.video_link != None %}
                                {% render_field form.video_link class+="form-control" value=program.video_link %}
                            {% else %}
                                {% render_field form.video_link class+="form-control" %}
                            {% endif %}
                            {% if form.video_link.help_text %}
                                {{ form.video_link.help_text }} <br>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            {% if form.video_stats_link.errors %}
                                <div style="color: #dc3545; direction: rtl">
                                    {{ form.video_stats_link.errors }}
                                </div>
                            {% endif %}
                            <label for="{{ form.video_stats_link.id_for_label }}">لینک آمار پخش زنده تصویری :</label>
                            <br>
                            {% if form.video_stats_link.value != None %}
                                {% render_field form.video_stats_link class+="form-control" value=form.video_stats_link.value %}
                            {% elif program.video_stats_link != None %}
                                {% render_field form.video_stats_link class+="form-control" value=program.video_stats_link %}
                            {% else %}
                                {% render_field form.video_stats_link class+="form-control" %}
                            {% endif %}
                            {% if form.video_stats_link.help_text %}
                                {{ form.video_stats_link.help_text }} <br>
                            {% endif %}
                        </div>
                        <div class="form-group">
                            {% if form.video_platform_type.errors %}
                                <div style="color: #dc3545; direction: rtl">
                                    {{ form.video_platform_type.errors }}
                                </div>
                            {% endif %}
                            <label for="{{ form.video_platform_type.id_for_label }}">نوع پلتفرم آمار پخش زنده تصویری
                                :</label>
                            <br>
                            {% render_field form.video_platform_type class+="form-control" %}
                            {% if form.video_platform_type.help_text %}
                                {{ form.video_platform_type.help_text }} <br>
                            {% endif %}
                        </div>
                    </div>
                </form>
            </div>
            <!-- /.card-body -->
        </div>
    </div>
    <div class="col-12">
        <input type="submit" form="form1" value="ذخیره تغییرات" class="btn btn-success float-left">
        <a href="{% url 'AdminPanel:admin_panel_program' %}" class="btn btn-secondary float-right">انصراف</a>
    </div>
{% endblock %}

{% block body_script %}
    <!-- flatpickr -->
    <script src="{% static 'AdminPanel/plugins/flatpickr/flatpickr.min.js' %}"></script>
    <!-- bs-custom-file-input -->
    <script src="{% static 'AdminPanel/plugins/bs-custom-file-input/bs-custom-file-input.min.js' %}"></script>
    <!-- jquery -->
    <script src="{% static 'AdminPanel/plugins/jquery/jquery.min.js' %}"></script>

    <script src="{% static 'AdminPanel/custom/admin_program_add_edit.js' %}"></script>
    <script>
        let count_specified_date = 1;
        let count_specified_start_time = 1;
        let count_specified_end_time = 1;

        {#status#}
        let status_value;
        {% if form.status.value != None %}
            status_value = '{{ form.status.value }}';
            set_status(status_value);
        {% elif program.status != None %}
            status_value = '{{ program.status }}';
            set_status(status_value);
        {% endif %}

        {#description#}
        let description_value;
        {% if form.description.value != None %}
            description_value = '{{ form.description.value|escapejs }}';
            set_description(description_value);
        {% elif program.description != None %}
            description_value = '{{ program.description|escapejs }}';
            set_description(description_value);
        {% endif %}

        {#description_in_player#}
        let description_in_player_value;
        {% if form.description_in_player.value != None %}
            description_in_player_value = '{{ form.description_in_player.value|escapejs }}';
            set_description_in_player(description_in_player_value);
        {% elif program.description_in_player != None %}
            description_in_player_value = '{{ program.description_in_player|escapejs }}';
            set_description_in_player(description_in_player_value);
        {% endif %}

        {#datetime_type#}
        let datetime_type_value;
        let day_0;
        let day_1;
        let day_2;
        let day_3;
        let day_4;
        let day_5;
        let day_6;
        {% if form.datetime_type.value != None %}
            datetime_type_value = '{{ form.datetime_type.value }}';
            day_0 = '{{ form.day_0.value }}';
            day_1 = '{{ form.day_1.value }}';
            day_2 = '{{ form.day_2.value }}';
            day_3 = '{{ form.day_3.value }}';
            day_4 = '{{ form.day_4.value }}';
            day_5 = '{{ form.day_5.value }}';
            day_6 = '{{ form.day_6.value }}';
        {% elif program.datetime_type != None %}
            datetime_type_value = '{{ program.datetime_type }}';
            day_0 = '{{ program.day_0 }}';
            day_1 = '{{ program.day_1 }}';
            day_2 = '{{ program.day_2 }}';
            day_3 = '{{ program.day_3 }}';
            day_4 = '{{ program.day_4 }}';
            day_5 = '{{ program.day_5 }}';
            day_6 = '{{ program.day_6 }}';
        {% endif %}
        set_datetime_type(datetime_type_value, day_0, day_1, day_2, day_3, day_4, day_5, day_6);

        {% if is_add == True %}
            {% if is_valid == False %}
                {% if form.datetime_type.value != 'weekly' %}
                    {% for this_specified_date in specified_date %}
                        add_occasional_elements("specified_date", '{{ this_specified_date }}');
                    {% endfor %}
                    {% for this_specified_start_time in specified_start_time %}
                        add_occasional_elements("specified_start_time", '{{ this_specified_start_time }}');
                    {% endfor %}
                    {% for this_specified_end_time in specified_end_time %}
                        add_occasional_elements("specified_end_time", '{{ this_specified_end_time }}');
                    {% endfor %}
                {% endif %}
            {% endif %}
        {% else %}
            {% if is_valid == False %}
                {% if form.datetime_type.value != None %}
                    {% if form.datetime_type.value != 'weekly' %}
                        {% for this_specified_date in specified_date %}
                            add_occasional_elements("specified_date", '{{ this_specified_date }}');
                        {% endfor %}
                        {% for this_specified_start_time in specified_start_time %}
                            add_occasional_elements("specified_start_time", '{{ this_specified_start_time }}');
                        {% endfor %}
                        {% for this_specified_end_time in specified_end_time %}
                            add_occasional_elements("specified_end_time", '{{ this_specified_end_time }}');
                        {% endfor %}
                    {% endif %}
                {% else %}
                    {% if program.datetime_type != 'weekly' %}
                        {% for this_specified_date in specified_date %}
                            add_occasional_elements("specified_date", '{{ this_specified_date|date:"Y-m-d" }}');
                        {% endfor %}
                        {% for this_specified_start_time in specified_start_time %}
                            add_occasional_elements("specified_start_time", '{{ this_specified_start_time }}');
                        {% endfor %}
                        {% for this_specified_end_time in specified_end_time %}
                            add_occasional_elements("specified_end_time", '{{ this_specified_end_time }}');
                        {% endfor %}
                    {% endif %}
                {% endif %}
            {% else %}
                {% if program.datetime_type != 'weekly' %}
                    {% for this_specified_date in specified_date %}
                        add_occasional_elements("specified_date", '{{ this_specified_date|date:"Y-m-d" }}');
                    {% endfor %}
                    {% for this_specified_start_time in specified_start_time %}
                        add_occasional_elements("specified_start_time", '{{ this_specified_start_time }}');
                    {% endfor %}
                    {% for this_specified_end_time in specified_end_time %}
                        add_occasional_elements("specified_end_time", '{{ this_specified_end_time }}');
                    {% endfor %}
                {% endif %}
            {% endif %}
        {% endif %}

        let conditions_day;
        show_hide_week_day(0);
        show_hide_week_day(1);
        show_hide_week_day(2);
        show_hide_week_day(3);
        show_hide_week_day(4);
        show_hide_week_day(5);
        show_hide_week_day(6);

        show_hide_datetime_type();

        {% if is_edit %}
            //set logo not required
            document.getElementById("id_logo").required = false;
        {% endif %}

        {#stream_type#}
        let stream_type_value;
        let audio_platform_type_value;
        {% if form.stream_type.value != None %}
            stream_type_value = '{{ form.stream_type.value }}';
            audio_platform_type_value = '{{ form.audio_platform_type.value }}';
            set_stream_type(stream_type_value, audio_platform_type_value);
        {% elif program.stream_type != None %}
            stream_type_value = '{{ program.stream_type }}';
            audio_platform_type_value = '{{ program.audio_platform_type }}';
            set_stream_type(stream_type_value, audio_platform_type_value);
        {% endif %}

        show_hide_stream_type();

        use_flatpickr();

        // Page specific script
        $(function () {
            bsCustomFileInput.init();
        });
    </script>
{% endblock %}